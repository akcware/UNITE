<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>UNITE - Underserved Needs in Times of Emergency - Member List</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A cool thing made with Glitch">
  <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/messages.css">
  <link rel="stylesheet" href="/jquery-ui.css">
  <link rel="stylesheet" href="/bootstrap.min.css">
  <link rel="stylesheet" href="/ui.jqgrid.min.css">
  <link rel="stylesheet" href="/ui.multiselect.min.css">
  <script src="/jquery.min.js"></script>
  <script src="/jquery-ui.min.js"></script>
  <script src="/popper.min.js"></script>
  <script src="/bootstrap.min.js"></script>
  <script src="/sweetalert2@9.min.js"></script>
  <script src="/jquery.jqgrid.min.js"></script>
  <script src="/https.js"></script>
  <script src="/functions.js"></script>
  <script type="text/javascript">
  $(document).ready(function() {
     var id = "<%= userId %>", 
      role = "<%= role %>", 
      name = "<%= userName %>", 
      avatar = "<%= avatar %>", 
      type = "<%= userType %>";
      userInputs(id, role, avatar, name, type, $('ul.mr-auto'));  
      errorSuccess(Swal, '<%= errorMessage %>', '<%= successMessage %>');
      prepareSortTable();
  });
  </script>
</head>
  
<body>
<nav pos="6" class="navbar home navbar-expand-lg navbar-light bg-light" style="width: 100% !important;">
  <a class="navbar-brand" href="#">
    <img src="https://cdn.glitch.com/e38447e4-c245-416f-8ea1-35b246c6af5d%2Funite%20(1).png?v=1587898738134"
      height="50">
  </a>
  <input type="hidden" id="userData" isAdmin="<%= isAdmin %>" userRole="<%= role %>">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>
    
<div class="container home">
  <h1>
    UNITE FULL LIST OF MEMBERS - Buyers, Supervisors, Suppliers
  </h1>
  <br>
  <div>
    <p class='term'>
      Disclaimer: This is a Demo list of members. At this moment they do not represent real economic entities from the world. Any resemblance to any real-life company is unintentional. This list is shown only for Development purposes, and it is only accessible to Administrators.
    </p>
    <p class='term'>
      However, in the coming future UNITE will have real members that will be listed. We will limit the amount of specific data to be made publicly available on our platform, according to the GDPR laws and rules. We may also restrict the access of external visitors to data about our members, meaning that you have to join UNITE (remember: business-to-business) to see the said information.
    </p>
  </div>
  <br><br>
  <h3 style="color: green">
    List of UNITE Buyers
  </h3>
  <br>
<% if(buyers != null && buyers.length > 0) { %>
  <div class="container form-group mt-4" style="text-align: center">
    <table id="buyers" class="table table-striped table-hover table-condensed members">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Organization name</th>
          <th scope="col">Dept Agency Group</th>
          <th scope="col">Contact Name</th>
          <th scope="col">Email Address</th>
          <th width="100%" scope="col">Contact Mobile Number</th>
          <th scope="col">Country</th>
          <th scope="col">Qualification</th>
          <th scope="col">User Role</th>
          <th scope="col">isActive</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% let i = 0; for (buyer of buyers) { %>
        <tr id="<%= buyer._id %>">
          <td scope="col"><%= i+1 %></td>
          <td scope="col"><%= buyer.organizationName %></td>
          <td scope="col"><%= buyer.deptAgencyGroup %></td>
          <td scope="col"><%= buyer.contactName %></td>
          <td scope="col"><%= buyer.emailAddress %></td>
          <td scope="col"><%= buyer.contactMobileNumber %></td>
          <td scope="col"><%= buyer.country %></td>
          <td scope="col"><%= buyer.qualification %></td>
          <td scope="col"><%= buyer.role %></td>
          <td scope="col"><%= buyer.isActive %></td>
          <td scope="col"><% if(buyer.role != 'Admin') { %><a href="deleteUser/<%= buyer._id %>/Buyer/<%= buyer.organizationName %>/None/<%= buyer.emailAddress %>"><span class="adminDelete">Remove User</span></a><% } %></td>
        </tr>
        <% i++; } %>
        </tbody>
      </table>
    </div>
    <div id="jqDiv_0" class="form-group">
      <table id="gridBuyer">
      </table>
    </div>
  
  <script type="text/javascript">
    var data = [];
    var colModelBuyer = [
      { name: 'organizationName', label: 'Organization name', search: true, width: 210},
      { name: 'deptAgencyGroup', label: 'Dept. Agency Group', align: 'center', search: true, width: 220},
      { name: 'contactName', label: 'Contact Name', align: 'center', search: true, width: 200},
      { name: 'emailAddress', label: 'E-mail Address', align: 'center', search: true, width: 160},
      { name: 'contactMobileNumber', label: 'Contact Mobile Number', align: 'center', search: true, width: 120},
      { name: 'country', label: 'Country', align: 'center', search: true, width: 105},
      { name: 'qualification', label: 'Qualification', align: 'center', search: true, width: 200},
      { name: 'role', label: 'Role', align: 'center', search: true, width: 75},
      { name: 'isActive', label: 'Is Active?', align: 'center', search: true, width: 60},
      { name: 'deletion', label: 'Removal', align: 'center', formatter: removalFormatter, search: false, width: 100},
      { name: 'hiddenHref', hidden: true }
    ];   
    
    $("#gridBuyer").jqGrid({
      colModel: colModelBuyer,
      data: data,
      guiStyle: "bootstrap4",
      iconSet: "fontAwesome",
      idPrefix: "gb1_",
      viewrecords : true,
      gridview : true,
      altRows: true,
      //autowidth: true,
      rownumbers : true,
      autoencode : false,
      toolbar: [true, "top"],
      width: 1500,
      //height: 300,
      sortname: "name",
      sortorder: "asc",
      caption: "The Buyers grid, which uses predefined formatters and templates:"
    });
  
  </script>
  <% i = 0; for (buyer of buyers) { %>
    <script type="text/javascript">                 
      var data = {
            id: "<%= i %>",
            organizationName: "<%= buyer.organizationName %>",
            deptAgencyGroup: "<%= buyer.deptAgencyGroup %>",
            contactName: "<%= buyer.contactName %>",
            emailAddress: "<%= buyer.emailAddress %>",
            contactMobileNumber: "<%= buyer.contactMobileNumber %>",
            country: "<%= buyer.country %>",
            qualification: "<%= buyer.qualification %>",
            role: "<%= buyer.role %>",
            isActive: "<%= buyer.isActive %>",
            hiddenHref: <% if(buyer.role != 'Admin') { %> "deleteUser/<%= buyer._id %>/Buyer/<%= buyer.organizationName %>/None/<%= buyer.emailAddress %>" <% } else { %> '' <% } %>
      };
        
      $("#gridBuyer").jqGrid('addRowData', data.id, data, 'last');        
    </script>
     <% i++; } %>
        <% } else { %>
        <div>
          <p style="color: green; font-family: arial">
            Sorry, no buyers here.
          </p>
        </div>
        <% }%>
  <br>
  <hr>
  <br>
  
  <h3 style="color: green">
    List of UNITE Supervisors
  </h3>
  <br>
<% if(supervisors != null && supervisors.length > 0) {%>
  <div class="container mt-4">
    <table id="supervisors" class="table table-striped table-hover members">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Organization name</th>
          <th scope="col">Organization Unite ID</th>
          <th scope="col">Contact Name</th>
          <th scope="col">Email Address</th>
          <th scope="col">Contact Mobile Number</th>
          <th scope="col">Country</th>
          <th scope="col">User Role</th>
          <th scope="col">isActive</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% let i = 0; for (supervisor of supervisors) { %>
        <tr id="<%= supervisor._id %>">
          <td scope="col"><%= i+1 %></td>
          <td scope="col"><%= supervisor.organizationName %></td>
          <td scope="col"><%= supervisor.organizationUniteID %></td>
          <td scope="col"><%= supervisor.contactName %></td>
          <td scope="col"><%= supervisor.emailAddress %></td>
          <td scope="col"><%= supervisor.contactMobileNumber %></td>
          <td scope="col"><%= supervisor.country %></td>
          <td scope="col"><%= supervisor.role %></td>
          <td scope="col"><%= supervisor.isActive %></td>
          <td scope="col"><% if(supervisor.role != 'Admin') { %><a href="deleteUser/<%= supervisor._id %>/Supervisor/<%= supervisor.organizationName %>/<%= supervisor.organizationUniteID %>/<%= supervisor.emailAddress %>"><span class="adminDelete">Remove User</span></a><% } %></td>
        </tr>
        <% i++; } %>
        </tbody>
      </table>
    </div>
    <div id="jqDiv_1" class="form-group">
      <table id="gridSupervisor">
      </table>
    </div>
  
  <script type="text/javascript">
    var data = [];
    var colModelSupervisor = [
      { name: 'organizationName', label: 'Organization name', search: true, width: 240},
      { name: 'organizationUniteID', label: 'Organization UNITE ID', align: 'center', search: true, width: 140},
      { name: 'contactName', label: 'Contact Name', align: 'center', search: true, width: 200},
      { name: 'emailAddress', label: 'E-mail Address', align: 'center', search: true, width: 160},
      { name: 'contactMobileNumber', label: 'Contact Mobile Number', align: 'center', search: true, width: 120},
      { name: 'country', label: 'Country', align: 'center', search: true, width: 105},
      { name: 'role', label: 'Role', align: 'center', search: true, width: 75},
      { name: 'isActive', label: 'Is Active?', align: 'center', search: true, width: 60},
      { name: 'deletion', label: 'Removal', align: 'center', formatter: removalFormatter, search: false, width: 100},
      { name: 'hiddenHref', hidden: true }
    ];   
    
    $("#gridSupervisor").jqGrid({
      colModel: colModelSupervisor,
      data: data,
      guiStyle: "bootstrap4",
      iconSet: "fontAwesome",
      idPrefix: "gb1_",
      viewrecords : true,
      gridview : true,
      altRows: true,
      //autowidth: true,
      rownumbers : true,
      autoencode : false,
      toolbar: [true, "top"],
      width: 1800,
      //height: 300,
      sortname: "name",
      sortorder: "asc",
      caption: "The Buyers grid, which uses predefined formatters and templates:"
    });
  
  </script>
  <% i = 0; for (supervisor of supervisors) { %>
    <script type="text/javascript">                 
      var data = {
            id: "<%= i %>",
            organizationName: "<%= supervisor.organizationName %>",
            organizationUniteID: "<%= supervisor.organizationUniteID %>",
            contactName: "<%= supervisor.contactName %>",
            emailAddress: "<%= supervisor.emailAddress %>",
            contactMobileNumber: "<%= supervisor.contactMobileNumber %>",
            country: "<%= supervisor.country %>",
            role: "<%= supervisor.role %>",
            isActive: "<%= supervisor.isActive %>",
            hiddenHref: <% if(supervisor.role != 'Admin') { %> "deleteUser/<%= supervisor._id %>/Supervisor/<%= supervisor.organizationName %>/<%= supervisor.organizationUniteID %>/<%= supervisor.emailAddress %>" <% } else { %> '' <% } %>
      };
        
      $("#gridSupervisor").jqGrid('addRowData', data.id, data, 'last');        
    </script>
     <% i++; } %>
        <% } else { %>
        <div>
          <p style="color: green; font-family: arial">
            Sorry, no supervisors here.
          </p>          
        </div>
        <% }%>

  <br>
  <hr>
  <br>  
  
  <h3 style="color: green">
    List of UNITE Suppliers
  </h3>
  <br>
<% if(suppliers != null && suppliers.length > 0) {%>
  <div class="container mt-4">
    <table id="suppliers" class="table table-striped table-hover members">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Company name</th>
          <th scope="col">Director's name</th>
          <th scope="col">Contact Name</th>
          <th scope="col">Email Address</th>
          <th scope="col">Registered Country</th>
          <th scope="col">Contact Mobile Number</th>
          <th scope="col">Country</th>
          <th scope="col">Area Covered</th>
          <th scope="col">Company Address</th>
          <th scope="col">Employees Number</th>
          <th scope="col">Industry</th>
          <th scope="col">Capability Description</th>
          <th scope="col">User Role</th>
          <th scope="col">isActive</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% let i = 0; for (supplier of suppliers) { %>
        <tr id="<%= supplier._id %>">
          <td scope="col"><%= i+1 %></td>
          <td scope="col"><%= supplier.companyName %></td>
          <td scope="col"><%= supplier.directorsName %></td>
          <td scope="col"><%= supplier.contactName %></td>
          <td scope="col"><%= supplier.emailAddress %></td>
          <td scope="col"><%= supplier.registeredCountry %></td>
          <td scope="col"><%= supplier.contactMobileNumber %></td>
          <td scope="col"><%= supplier.country %></td>
          <td scope="col"><%= supplier.areaCovered %></td>
          <td scope="col"><%= supplier.companyAddress %></td>
          <td scope="col"><%= supplier.employeeNumbers %></td>
          <td scope="col"><%= supplier.industry %></td>
          <td scope="col"><%= supplier.capabilityDescription %></td>
          <td scope="col"><%= supplier.role %></td>
          <td scope="col"><%= supplier.isActive %></td>
          <td scope="col"><% if(supplier.role != 'Admin') { %><a href="deleteUser/<%= supplier._id %>/Supplier/<%= supplier.companyName %>/None/<%= supplier.emailAddress %>"><span class="adminDelete">Remove User</span></a><% } %></td>
        </tr>
        <% i++; } %>
        </tbody>
      </table>
    </div>
    <div id="jqDiv_2" class="form-group">
      <table id="gridSupplier">
      </table>
    </div>
  
  <script type="text/javascript">
    var data = [];
    var colModelSupplier = [
      { name: 'companyName', label: 'Company name', search: true, width: 150},
      { name: 'directorsName', label: 'Director\'s Name', align: 'center', search: true, width: 180},
      { name: 'contactName', label: 'Contact Name', align: 'center', search: true, width: 225},
      { name: 'emailAddress', label: 'E-mail Address', align: 'center', search: true, width: 240},
      { name: 'registeredCountry', label: 'Registered Country', align: 'center', search: true, width: 170},
      { name: 'contactMobileNumber', label: 'Contact Mobile Number', align: 'center', search: true, width: 150},
      { name: 'country', label: 'Country', align: 'center', search: true, width: 140},
      { name: 'areaCovered', label: 'Area Covered', align: 'center', search: true, width: 200},
      { name: 'companyAddress', label: 'Company Address', align: 'center', search: true, width: 360},
      { name: 'employeeNumbers', label: 'Employees Number', align: 'center', search: true, width: 140},
      { name: 'industry', label: 'Industry', align: 'center', search: true, width: 160},
      { name: 'capabilityDescription', label: 'Capability Description', align: 'center', search: true, width: 210},
      { name: 'role', label: 'Role', align: 'center', search: true, width: 75},
      { name: 'isActive', label: 'Is Active?', align: 'center', search: true, width: 60},
      { name: 'deletion', label: 'Removal', align: 'center', formatter: removalFormatter, search: false, width: 100},
      { name: 'hiddenHref', hidden: true }
    ];   
    
    $("#gridSupplier").jqGrid({
      colModel: colModelSupplier,
      data: data,
      guiStyle: "bootstrap4",
      iconSet: "fontAwesome",
      idPrefix: "gb1_",
      viewrecords : true,
      gridview : true,
      altRows: true,
      //autowidth: true,
      rownumbers : true,
      autoencode : false,
      toolbar: [true, "top"],
      width: 2950,
      //height: 300,
      sortname: "name",
      sortorder: "asc",
      caption: "The Buyers grid, which uses predefined formatters and templates:"
    });
  
  </script>
  <% i = 0; for (supplier of suppliers) { %>
    <script type="text/javascript">                 
      var data = {
            id: "<%= i %>",
            companyName: "<%= supplier.companyName %>",
            directorsName: "<%= supplier.directorsName %>",
            contactName: "<%= supplier.contactName %>",
            emailAddress: "<%= supplier.emailAddress %>",
            registeredCountry: "<%= supplier.registeredCountry %>",
            contactMobileNumber: "<%= supplier.contactMobileNumber %>",
            country: "<%= supplier.country %>",
            areaCovered: "<%= supplier.areaCovered %>",
            companyAddress: "<%= supplier.companyAddress %>",
            employeeNumbers: "<%= supplier.employeeNumbers %>",
            industry: "<%= supplier.industry %>",
            capabilityDescription: "<%= supplier.capabilityDescription %>",
            role: "<%= supplier.role %>",
            isActive: "<%= supplier.isActive %>",
            hiddenHref: <% if(supplier.role != 'Admin') { %> "deleteUser/<%= supplier._id %>/Supplier/<%= supplier.companyName %>/None/<%= supplier.emailAddress %>" <% } else { %> '' <% } %>
      };
        
      $("#gridSupplier").jqGrid('addRowData', data.id, data, 'last');        
    </script>
     <% i++; } %>
        <% } else { %>
        <div>
          <p style="color: green; font-family: arial">
            Sorry, no suppliers here.
          </p>          
        </div>
        <% }%>
    </div>
    
  </body>
  
</html>